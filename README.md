# audioctl

> Mac ç«¯çš„éŸ³é¢‘æ§åˆ¶å·¥å…·ï¼Œæ”¯æŒåº”ç”¨çº§éŸ³é‡æ§åˆ¶ã€‚

## åŠŸèƒ½ç‰¹æ€§

- **éŸ³é¢‘è®¾å¤‡ç®¡ç†**: åˆ—å‡ºã€åˆ‡æ¢ã€è®¾ç½®ç³»ç»ŸéŸ³é¢‘è®¾å¤‡
- **éŸ³é‡æ§åˆ¶**: æ§åˆ¶è¾“å…¥/è¾“å‡ºè®¾å¤‡çš„éŸ³é‡
- **è™šæ‹ŸéŸ³é¢‘é©±åŠ¨**: åˆ›å»ºè™šæ‹ŸéŸ³é¢‘è®¾å¤‡ç”¨äºåº”ç”¨çº§éŸ³é‡æ§åˆ¶
- **åº”ç”¨éŸ³é‡æ§åˆ¶**: å•ç‹¬æ§åˆ¶æ¯ä¸ªåº”ç”¨çš„éŸ³é‡ï¼ŒåŒæ—¶ä¿æŒéŸ³é¢‘è¾“å‡ºåˆ°ç‰©ç†è®¾å¤‡

## å®‰è£…

### å¿«é€Ÿå®‰è£…ï¼ˆæ¨èï¼‰

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/AhogeK/audioctl.git
cd audioctl

# ä¸€é”®å®‰è£…
./scripts/install.sh install

# æˆ–è€… Release æ¨¡å¼
./scripts/install.sh install --release

# æ·»åŠ åˆ° PATH
echo 'export PATH="'$(pwd)'/cmake-build-debug/bin:$PATH"' >>~/.zshrc
source ~/.zshrc

```

### å¸è½½

```bash
# ä¸€é”®å¸è½½ï¼ˆè‡ªåŠ¨æ¢å¤ç‰©ç†è®¾å¤‡ã€åˆ é™¤é©±åŠ¨å’Œèšåˆè®¾å¤‡ï¼‰
./scripts/install.sh uninstall
```

### å¼€å‘æ„å»º

```bash
# ä»…æ„å»ºä¸é‡å¯ CoreAudioï¼ˆé€‚åˆå¼€å‘è°ƒè¯•ï¼‰
./scripts/install.sh install --no-coreaudio-restart
```

## ä½¿ç”¨è¯´æ˜

### å¿«é€Ÿå¼€å§‹

```bash
# 1. æ£€æŸ¥è™šæ‹Ÿè®¾å¤‡çŠ¶æ€
audioctl virtual-status

# 2. åˆ‡æ¢åˆ°è™šæ‹Ÿè®¾å¤‡ï¼ˆè‡ªåŠ¨åˆ›å»º Aggregate Device å¹¶è·¯ç”±éŸ³é¢‘ï¼‰
# é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨å¯åŠ¨åå°è·¯ç”±è¿›ç¨‹
audioctl use-virtual

# 3. æ¢å¤ç‰©ç†è®¾å¤‡ï¼ˆåœæ­¢è·¯ç”±è¿›ç¨‹ï¼Œæ¢å¤ç³»ç»Ÿé»˜è®¤è¾“å‡ºï¼‰
audioctl use-physical
```

### åŸºç¡€å‘½ä»¤

```bash
# æ˜¾ç¤ºå¸®åŠ©
audioctl help

# åˆ—å‡ºæ‰€æœ‰éŸ³é¢‘è®¾å¤‡
audioctl list

# è®¾ç½®å½“å‰è¾“å‡ºè®¾å¤‡éŸ³é‡ (0-100)
audioctl set -o 50

# è®¾ç½®å½“å‰è¾“å…¥è®¾å¤‡éŸ³é‡ (0-100)
audioctl set -i 75

# åˆ‡æ¢åˆ°æŒ‡å®šè®¾å¤‡
audioctl set 117
```

### æœåŠ¡ç®¡ç†

audioctl æä¾›åå°æœåŠ¡ç®¡ç†åŠŸèƒ½ï¼Œç”¨äºç»´æŠ¤éŸ³é¢‘è·¯ç”±è¿›ç¨‹ã€‚æœåŠ¡çŠ¶æ€æ–‡ä»¶å­˜å‚¨åœ¨ `~/Library/Application Support/audioctl/` ç›®å½•ä¸‹ã€‚

**æœåŠ¡ç®¡ç†è¯´æ˜**ï¼š

- æœåŠ¡çŠ¶æ€æ–‡ä»¶å­˜å‚¨åœ¨ç”¨æˆ·ç›®å½•ä¸‹ï¼Œä¸éœ€è¦ root æƒé™
- ä½¿ç”¨ `use-virtual` å‘½ä»¤æ—¶ä¼šè‡ªåŠ¨å¯åŠ¨æœåŠ¡
- ä½¿ç”¨ `use-physical` å‘½ä»¤æ—¶ä¼šè‡ªåŠ¨åœæ­¢æœåŠ¡

### åº”ç”¨éŸ³é‡æ§åˆ¶

**å‰ç½®æ¡ä»¶**: å¿…é¡»å…ˆè¿è¡Œ `audioctl use-virtual`

```bash
# åˆ—å‡ºæ‰€æœ‰éŸ³é¢‘åº”ç”¨åŠå…¶éŸ³é‡
audioctl app-volumes

# è®¾ç½®æŒ‡å®šåº”ç”¨çš„éŸ³é‡ (0-100)
audioctl app-volume Safari 50    # æŒ‰åº”ç”¨åç§°
audioctl app-volume 1234 30      # æŒ‰ PID

# é™éŸ³/å–æ¶ˆé™éŸ³
audioctl app-mute Safari
audioctl app-unmute Safari
```

## å¼€å‘çŠ¶æ€

- âœ… åŸºç¡€è®¾å¤‡æ§åˆ¶
- âœ… è™šæ‹ŸéŸ³é¢‘é©±åŠ¨
- ğŸš§ åº”ç”¨éŸ³é‡æ§åˆ¶
- ğŸš§ Aggregate Device éŸ³é¢‘è·¯ç”±
- ğŸš§ è‡ªåŠ¨ç»‘å®šç‰©ç†è®¾å¤‡
- ğŸš§ å›¾å½¢ç•Œé¢ (è®¡åˆ’ä¸­)

## è®¸å¯è¯

MIT License
