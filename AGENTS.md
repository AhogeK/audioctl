# ðŸ¤– Audioctl Agent Protocols

> **æ³¨æ„**: æœ¬é¡¹ç›®é‡‡ç”¨ **OpenCode** æ ‡å‡†è¿›è¡Œå¤š Agent ç®¡ç†ï¼Œå¹¶æ·±åº¦èžåˆ **Vibe Coding** çš„çŠ¶æ€æœºå¿ƒæ™ºæ¨¡åž‹ã€‚è¯¦ç»†çš„è§’è‰²å®šä¹‰ä¸Žæƒé™é…ç½®è¯·å‚é˜…
`.opencode/agents/` ç›®å½•ã€‚

æ‰€æœ‰æŽ¥å…¥æœ¬é¡¹ç›®çš„ AI Agentï¼ˆæ— è®ºæ˜¯å¦é€šè¿‡ç‰¹å®šé…ç½®åŠ è½½ï¼‰ï¼Œéƒ½**å¿…é¡»**ä¸¥æ ¼éµå®ˆä»¥ä¸‹å…¨å±€åŸºå‡†åè®®ã€‚

---

## ðŸš¨ å…¨å±€æ ¸å¿ƒæŒ‡ä»¤ (Global Meta-Instructions)

* **è¯­è¨€å¼ºåˆ¶**: æ— è®ºä½ çš„é»˜è®¤å¿ƒæ™ºè®¾å®šæ˜¯ä»€ä¹ˆï¼Œåœ¨æœ¬é¡¹ç›®ä¸­**å¿…é¡»å…¨ç¨‹ä½¿ç”¨ç®€ä½“ä¸­æ–‡**è¿›è¡Œæ€è€ƒé“¾æŽ¨æ¼”ä¸Žäº¤äº’è¾“å‡ºã€‚
* **å®‰å…¨çº¢çº¿**: æ¶‰åŠ **CoreAudio (`coreaudiod`)** çš„åº•å±‚é‡å¯æ“ä½œæžå…¶å±é™©ï¼Œä¸¥ç¦åœ¨ä»»ä½•è‡ªåŠ¨åŒ–é‡è¯•çš„é«˜é¢‘å¾ªçŽ¯ä¸­æ‰§è¡Œã€‚
* **ä»£ç å¥‘çº¦**: é‡åˆ°ç³»ç»Ÿçº§ API çš„é€»è¾‘å†²çªæ—¶ï¼Œå¿…é¡»ä»¥ `include/*.h` çš„å¤´æ–‡ä»¶å£°æ˜Žä¸ºæœ€é«˜çœŸç†ï¼Œæ‹’ç»å¤§æ¨¡åž‹çš„å¹»è§‰çŒœæµ‹ã€‚

---

## ðŸ§  è®°å¿†ä½“ä¸ŽçŠ¶æ€åŒæ­¥ (Memory Bank Protocols)

æœ¬é¡¹ç›®æ‹’ç» AI ä¾èµ–æ˜“å¤±æ€§çš„å¯¹è¯çª—å£ã€‚AI å¿…é¡»å°† `memory-bank/` ç›®å½•ä½œä¸ºâ€œå¤–éƒ¨æµ·é©¬ä½“â€ï¼Œå¹¶ä¸¥æ ¼éµå¾ªä»¥ä¸‹ä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸï¼š

* **å”¤é†’è‡ªæ£€ (On-Boot)**: å¼€å§‹ä»»ä½•å·¥ç¨‹ä»»åŠ¡å‰ï¼Œ**å¿…é¡»é™é»˜è¯»å–** `memory-bank/progress.md` ä¸Ž `implementation-plan.md`
  ï¼Œç¡®è®¤å½“å‰æ‰€å¤„æˆ˜åŒºä¸Žä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚
* **å†³ç­–å¿«ç…§ (On-Decision)**: å‘ç”Ÿé‡å¤§æž¶æž„é€‰æ‹©ã€æŠ€æœ¯æ ˆå¦¥åæˆ–åº•å±‚ Bug è§„é¿æ—¶ï¼Œå¿…é¡»è¿½åŠ è‡³ `memory-bank/decisions.md`
  ï¼Œæ¸…æ™°è®°å½•â€œæŠ€æœ¯ä¸Šä¸‹æ–‡ä¸Žæœ€ç»ˆåŽæžœâ€ã€‚
* **ä¼‘çœ å­˜æ¡£ (On-Sleep)**: å®Œæˆé˜¶æ®µæ€§äº¤ä»˜åŽï¼Œå¿…é¡»ä¸»åŠ¨æ›´æ–° `progress.md` çš„é‡Œç¨‹ç¢‘æ‰“å‹¾çŠ¶æ€ï¼Œç¡®ä¿å¤šè½®å¯¹è¯æˆ–å¤š Agent
  åä½œæ—¶ä¸å‘ç”Ÿä¸Šä¸‹æ–‡æ–­å±‚ã€‚

> âš ï¸ **è¾¹ç•Œå®ˆå«**: `devlog/` ç›®å½•ä¸“ç”¨äºŽç”Ÿæˆé¢å‘**äººç±»å¼€å‘è€…**é˜…è¯»çš„ Release Note æˆ–é¡¹ç›®è¿›åº¦å®¡æŸ¥ï¼ŒAI **ä¸¥ç¦**
> å°†å…¶ä½œä¸ºè‡ªèº«é€»è¾‘è¿žè´¯æ€§çš„è®°å¿†è¯»å–æºã€‚

---

## ðŸ“‚ æž¶æž„æˆ˜åŒºæ˜ å°„ (Architecture Map)

åœ¨ç‰¹å®šé¢†åŸŸè¿›è¡Œå¼€å‘æ—¶ï¼Œè¯·éµå¾ªä»¥ä¸‹æž¶æž„è§„èŒƒç´¢å¼•ï¼š

| é¢†åŸŸ        | æ ¸å¿ƒé©±åŠ¨æ–‡ä»¶                                | æ ¸å¿ƒèŒè´£è¯´æ˜Ž                           |
|:----------|:--------------------------------------|:---------------------------------|
| **æŒä¹…åŒ–è®°å¿†** | `memory-bank/*.md`                    | å­˜æ”¾ AI å·¥ä½œæµçš„è¿›åº¦é”šç‚¹ã€æˆ˜æœ¯åœ°å›¾ä¸Žæž¶æž„å†³ç­–ã€‚        |
| **åº•å±‚æž¶æž„**  | `.opencode/agents/audio_architect.md` | CoreAudio äº¤äº’ã€HAL å±‚è§„èŒƒä¸Žé©±åŠ¨å¼€å‘çš„å®žæ—¶æ€§çº¢çº¿ã€‚ |
| **ä»»åŠ¡åˆ†å‘**  | `.beads/README.md`                    | åŸºäºŽ `bd` å‘½ä»¤è¡Œå·¥å…·çš„å·¥ç¨‹ä»»åŠ¡é¢†å–ã€æµè½¬ä¸ŽçŠ¶æ€æ›´æ–°ã€‚    |
| **æž„å»ºç³»ç»Ÿ**  | `CMakeLists.txt`                      | C/Objective-C æ··åˆå·¥ç¨‹çš„ç¼–è¯‘æŒ‡ä»¤ä¸Žæµ‹è¯•æ–­è¨€é—¨æŽ§ã€‚  |

---

## ðŸ›¡ï¸ é€šç”¨å¼€å‘çº¢çº¿

* **æ ¼å¼åŒ–çº¦æŸ**: æäº¤ä»»ä½•ä»£ç å‰å¿…é¡»ç¬¦åˆ LLVM é£Žæ ¼ï¼ˆå¼ºåˆ¶ä¾èµ– `clang-format` è‡ªåŠ¨åŒ–å¯¹é½ï¼‰ã€‚
* **å®žæ—¶æ€§çº¦æŸ**: åœ¨ `AudioDeviceIOProc` å›žè°ƒä¸­**ç»å¯¹ç¦æ­¢**å†…å­˜åˆ†é…ï¼ˆ`malloc`/`new`ï¼‰ä¸Žé˜»å¡žæ€§é”æ“ä½œï¼ˆåº”ä½¿ç”¨æ— é”æ•°æ®ç»“æž„æˆ–
  Atomicsï¼‰ã€‚
* **ç”Ÿæ€çº¯æ´æ€§**: ä¸¥ç¦å¼•å…¥ Web æŠ€æœ¯æ ˆï¼ˆå¦‚ Electronã€Tauri ç­‰ï¼‰ï¼ŒåšæŒ macOS æžè‡´åŽŸç”Ÿæ€§èƒ½ä¸Žä½“éªŒã€‚

---

> *For advanced agent configuration, capability boundaries, and tool definitions, strictly refer
to `.opencode/agents/audio_architect.md`*